# Full Page Screenshot Extension

一个强大的浏览器扩展,支持完整页面截图和自定义区域截图。

## 功能特性

- 📸 **完整页面截图**: 自动捕获整个页面,包括滚动区域
- ✂️ **区域选择截图**: 鼠标拖拽选择任意区域进行截图
- 💾 **智能命名**: 自动使用"网站主域名_时间戳"格式命名
- 💿 **保存对话框**: 截图后自动弹出保存对话框,可选择保存位置
- 🎯 **简单易用**: 点击扩展图标选择截图模式
- 🔄 **兼容性**: 同时支持 Chrome 和 Edge 浏览器
- ⌨️ **快捷操作**: 区域选择时按 ESC 取消,实时显示选区尺寸

## 安装方法

### Chrome 浏览器

1. 打开 Chrome 浏览器
2. 访问 `chrome://extensions/`
3. 启用右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择本扩展的文件夹 (`screen_shot`)
6. 扩展安装完成!

### Edge 浏览器

1. 打开 Edge 浏览器
2. 访问 `edge://extensions/`
3. 启用左下角的"开发人员模式"
4. 点击"加载解压缩的扩展"
5. 选择本扩展的文件夹 (`screen_shot`)
6. 扩展安装完成!

## 使用方法

### 完整页面截图

1. **点击扩展图标**: 在浏览器工具栏中找到扩展图标(绿色相机图标)
2. **点击"Capture Full Page"按钮**: 选择完整页面截图模式
3. **等待截图完成**: 扩展会自动滚动页面并截取所有内容
4. **选择保存位置**: 浏览器会弹出保存对话框
5. **确认保存**: 文件名已自动填充,选择保存位置即可

### 区域选择截图

1. **点击扩展图标**: 在浏览器工具栏中找到扩展图标
2. **点击"Select Area to Capture"按钮**: 选择区域截图模式(蓝色按钮)
3. **选择区域**: 页面会出现半透明遮罩,用鼠标拖拽选择要截图的区域
4. **实时预览**: 拖拽时会实时显示选区尺寸(宽 × 高)
5. **完成选择**: 释放鼠标后自动截图并弹出保存对话框
6. **取消操作**: 按 ESC 键可随时取消选择

## 文件名格式

截图文件会自动命名为:

**完整页面截图:**
```
域名_时间戳.png
```

**区域截图:**
```
域名_area_时间戳.png
```

例如:
```
github.com_2025-11-30T10-15-30.png
github.com_area_2025-11-30T10-20-45.png
www.google.com_area_2025-11-30T14-22-18.png
```

## 项目结构

```
screen_shot/
├── manifest.json          # 扩展配置文件
├── popup.html            # 弹出窗口界面
├── popup.js              # 弹出窗口逻辑
├── background.js         # 后台服务脚本
├── content.js            # 页面内容脚本(处理截图)
├── content.css           # 区域选择UI样式
├── icons/                # 图标文件夹
│   ├── icon16.png       # 16x16 图标
│   ├── icon48.png       # 48x48 图标
│   └── icon128.png      # 128x128 图标
├── README.md            # 说明文档
└── INSTALL.md           # 安装指南
```

## 技术实现

- **Manifest V3**: 使用最新的浏览器扩展规范
- **动态注入**: 智能检测并注入content script,解决连接错误
- **自动滚动**: 自动滚动页面并分块截图
- **Canvas 合成**: 将多个截图合成为完整的长图
- **交互式选择**: 可视化区域选择,实时显示尺寸
- **异步处理**: 使用 async/await 处理截图流程
- **权限管理**: 最小化权限请求,仅请求必要权限

## 浏览器兼容性

- ✅ Chrome (版本 88+)
- ✅ Microsoft Edge (版本 88+)
- ✅ 其他基于 Chromium 的浏览器

## 权限说明

扩展请求以下权限:
- `activeTab`: 访问当前活动标签页进行截图
- `downloads`: 下载截图文件
- `scripting`: 注入内容脚本以控制页面滚动

## 常见问题

**Q: 首次使用时提示"Could not establish connection"怎么办?**
A: 这是正常现象。扩展会自动检测并注入必要的脚本,刷新页面后再试即可。或者在安装后先刷新一次要截图的页面。

**Q: 为什么有些网站截图不完整?**
A: 某些动态加载内容的网站可能需要手动滚动后再截图。完整页面截图会自动处理滚动,但对于懒加载的内容可能需要提前加载。

**Q: 区域选择时如何取消?**
A: 按 ESC 键可随时取消区域选择操作。

**Q: 截图质量如何?**
A: 截图以 PNG 格式保存,保持原始分辨率,质量无损。

**Q: 支持哪些浏览器?**
A: 支持 Chrome、Edge 以及所有基于 Chromium 的浏览器。

**Q: 截图会包含滚动条吗?**
A: 不会,截图只包含页面内容,不包含浏览器UI元素。

**Q: 区域截图可以跨屏幕截取吗?**
A: 区域截图只能截取当前视口内可见的部分。如需截取不在视口内的区域,请先滚动到该位置再进行截图。

## 开发说明

如需修改扩展:

1. 修改源代码文件
2. 访问浏览器的扩展管理页面
3. 点击扩展卡片上的"刷新"按钮
4. 重新测试功能

## 许可证

MIT License

## 作者

Created with ❤️ for better web browsing experience
